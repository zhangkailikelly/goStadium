{"version":3,"sources":["book.jsx"],"names":[],"mappings":"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","file":"book.js","sourcesContent":["import React from \"react\";\r\nclass Book extends React.Component {\r\n    constructor(...props) {\r\n        super(...props)\r\n    }\r\n\r\n    confirmOrder() {\r\n        if (this.props.orderNum.length != 0) {\r\n            var amount, str2, str3, str4, arrId, ordermx;\r\n            ordermx = [];\r\n            amount = $(\".book-submit>p>strong\").html().slice(1);//合计总金额\r\n            arrId = this.props.orderNum.map(index=>index.group_ids);\r\n            arrId = arrId.join().split(\",\");\r\n            str2 = [];//订单id值集合array\r\n            for (var i = 0; i < arrId.length; i++) {\r\n                if (arrId[i] != \"undefined\") {\r\n                    str2.push(arrId[i])\r\n                }\r\n            }\r\n            //场地信息集合Array\r\n            str3 = this.props.orderNum.map(index=>index.clmcontent);\r\n            str4 = moment(this.props.orderNum[0].date, \"YYYYMMDD\").format(\"YYYY年MM月DD日\");//订单的日期\r\n            //转码\r\n            function transoc(content) {\r\n                return JSON.stringify(content)\r\n            }\r\n            str2 = transoc(str2);\r\n            str3 = transoc(str3);\r\n            str4 = transoc(str4);\r\n            window.location.href = \"/confirm?gymid=\"\r\n                + this.props.gymid\r\n                + \"&gymname=\" +\r\n                this.props.gymname\r\n                + \"&total=\" + amount\r\n                + \"&ordermx=\"\r\n                + ordermx\r\n                + \"&arrid=\"\r\n                + str2\r\n                + \"&content=\"\r\n                + str3 +\r\n                \"&time=\"\r\n                + str4;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n            <div className=\"book-order\">\r\n                <ul className={this.props.orderNum.length == 0 ? \"book-tip\" : \"book-tip hide\"}>\r\n                    <li><span className=\"site sold\"></span>已售</li>\r\n                    <li><span className=\"site optional\"></span>可选</li>\r\n                    <li><span className=\"site selected\"></span>已选</li>\r\n                </ul>\r\n                {/*已售可选已选标记*/}\r\n                {\r\n                    this.props.orderNum.length == 0 ? \"\" : (\r\n                        <ul className=\"book-orderinfo\">\r\n                            {this.props.orderNum.map((index, i)=> {\r\n                                return <li\r\n                                    data-group_ids={index.group_ids}\r\n                                    key={i}>\r\n                                    <div>{index.startTime + \"-\" + index.endTime}</div>\r\n                                    <div className=\"txtStyle3\">{index.siteNo}</div>\r\n                                </li>\r\n                            })}\r\n                        </ul>\r\n                    )\r\n                }\r\n                <div className=\"book-submit J_submit clearfix\">\r\n                    {this.props.orderNum.length == 0 ? <p className=\"fl\">请选择场地</p> : (<p className=\"fl\">\r\n                        合计： <strong style={{\r\n                        color: \"red\",\r\n                        fontWeight: 600\r\n                    }}>{\"￥\" + this.props.orderNum.length * this.props.orderNum[0].price}</strong>\r\n                    </p>)}\r\n                    <button type=\"button\" onClick={this.confirmOrder.bind(this)}\r\n                            className={this.props.orderNum.length == 0 ? \"fr am-btn am-radius am-btn-gray\" : \"fr am-btn am-radius am-btn-orange\"}>\r\n                        立即预订\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            {/*标记及按钮*/}\r\n            <div className=\"book-noPaySprite hide\">\r\n            </div>\r\n            <div className=\"toast hide\">\r\n                <div className=\"toast-alert\">\r\n                    <div className=\"toast-msg\"></div>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default Book;"]}