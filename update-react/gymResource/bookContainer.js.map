{"version":3,"sources":["bookContainer.jsx"],"names":[],"mappings":"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","file":"bookContainer.js","sourcesContent":["import React from \"react\";\r\n\r\nclass BookContainer extends React.Component {\r\n    constructor(...props) {\r\n        super(...props)\r\n    }\r\n\r\n    componentDidMount() {\r\n        // var containW = $(\"#wrapper\").width();\r\n        // var containH = $(\"#wrapper\").height();\r\n        // var bookW = $(\".book-list\").outerWidth();\r\n        // var bookH = $(\".book-list\").outerHeight();\r\n        // if (bookW > containW) {\r\n        //     var maxDisW = bookW - containW;\r\n        //     var startW = 0;//触摸初始位置\r\n        //     var posW = 0;//滑块位置\r\n        //     $(\".book-list\").on(\"touchstart\", function (e) {\r\n        //         startW = e.originalEvent.touches[0].clientX;\r\n        //         posW = parseFloat($(this).css(\"margin-left\"));\r\n        //     })\r\n        //     $(\".book-list\").on(\"touchmove\", function (e) {\r\n        //         //滑动的距离\r\n        //         var movedis = e.originalEvent.touches[0].clientX - startW;\r\n        //         //当前位置\r\n        //         //  右滑\r\n        //         if (movedis > 0) {\r\n        //             if (Math.abs(posW) > movedis) {\r\n        //                 $(this).css(\"margin-left\", posW + movedis + \"px\")\r\n        //                 $(\".book-area ul\").css(\"margin-left\", posW + movedis + \"px\")\r\n        //\r\n        //             } else {\r\n        //                 $(this).css(\"margin-left\", 0 + \"px\")\r\n        //                 $(\".book-area ul\").css(\"margin-left\", 0 + \"px\")\r\n        //\r\n        //             }\r\n        //\r\n        //         } else if (movedis < 0) {\r\n        //             if (Math.abs(posW + movedis) < maxDisW) {\r\n        //                 $(this).css(\"margin-left\", posW + movedis + \"px\");\r\n        //                 $(\".book-area ul\").css(\"margin-left\", posW + movedis + \"px\")\r\n        //             } else {\r\n        //                 $(this).css(\"margin-left\", \"-\" + maxDisW + \"px\")\r\n        //                 $(\".book-area ul\").css(\"margin-left\", \"-\" + maxDisW + \"px\")\r\n        //\r\n        //             }\r\n        //\r\n        //         }\r\n        //     })\r\n        // }\r\n        // if (bookH> containH) {\r\n        //     var maxDisH = bookH - containH;\r\n        //     var startH = 0;//触摸初始位置\r\n        //     var posH = 0;//滑块位置\r\n        //     $(\".book-list\").on(\"touchstart\", function (e) {\r\n        //         startH = e.originalEvent.touches[0].clientY;\r\n        //         posH = parseFloat($(this).css(\"margin-top\"));\r\n        //     })\r\n        //     $(\".book-list\").on(\"touchmove\", function (e) {\r\n        //         //滑动的距离\r\n        //         var movedisH = e.originalEvent.touches[0].clientY - startH;\r\n        //         //当前位置\r\n        //         //  下滑\r\n        //         if (movedisH > 0) {\r\n        //             if (Math.abs(posH) > movedisH) {\r\n        //                 $(this).css(\"top\", posH + movedisH + \"px\")\r\n        //                 $(\".book-time ul\").css(\"margin-top\", posH + movedisH + \"px\")\r\n        //\r\n        //             } else {\r\n        //                 $(this).css(\"margin-top\", 0 + \"px\")\r\n        //                 $(\".book-time ul\").css(\"margin-top\", 0 + \"px\")\r\n        //\r\n        //             }\r\n        //\r\n        //         } else if (movedisH < 0) {\r\n        //             if (Math.abs(posH + movedisH) < maxDisH) {\r\n        //                 $(this).css(\"top\", posH + movedisH + \"px\");\r\n        //                 $(\".book-time ul\").css(\"margin-top\", posH + movedisH + \"px\")\r\n        //             } else {\r\n        //                 $(this).css(\"top\", \"-\" + maxDisH + \"px\")\r\n        //                 $(\".book-time ul\").css(\"margin-top\", \"-\" + maxDisH + \"px\")\r\n        //\r\n        //             }\r\n        //\r\n        //         }\r\n        //     })\r\n        // }\r\n\r\n        $(\"#wrapper\").scroll(function(){\r\n           var left=$(this).scrollLeft()\r\n           var top=$(this).scrollTop()\r\n            $(\".book-area>ul\").css(\"left\",-left)\r\n            $(\".book-time>ul\").css(\"marginTop\",-top)\r\n        })\r\n\r\n\r\n        this.props.clearLoading();//取消加载\r\n\r\n\r\n    }\r\n\r\n    select(num) {\r\n        //获取类名,用来判断状态\r\n        var oldClassName = this.refs[num].className;\r\n        var mation, price, siteNo, startDate, endDate, goodId,group_ids,clmcontent;\r\n        mation = {};\r\n        price = $(this.refs[num]).data(\"price\"); //价格\r\n        siteNo = $(this.refs[num]).data(\"content\").split(\",\")[2];\r\n        startDate = $(this.refs[num]).data(\"content\").split(\",\")[0];\r\n        endDate = $(this.refs[num]).data(\"content\").split(\",\")[1];\r\n        goodId = $(this.refs[num]).data(\"goodsid\");\r\n        group_ids=$(this.refs[num]).data(\"group_ids\");\r\n        clmcontent=$(this.refs[num]).data(\"clmcontent\");\r\n        mation.startTime = startDate;\r\n        mation.endTime = endDate;\r\n        mation.siteNo = siteNo;\r\n        mation.goodId = goodId;\r\n        mation.price = price;\r\n        mation.clmcontent = clmcontent;\r\n        mation.group_ids = group_ids;\r\n        mation.pos = num;\r\n\r\n        if (oldClassName == \"overtime\") {\r\n            this.props.setMsg(\"选中的以超时\")\r\n            return;\r\n        } else if (oldClassName == \"available\") {\r\n            this.props.setClassName(num, \"selected\", mation)\r\n        } else if (oldClassName == \"sold\") {\r\n            this.props.setMsg(\"选中的已售\")\r\n            return;\r\n        }else if(oldClassName == \"selected\"){\r\n            this.props.setClassName(num, \"available\", mation)\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (<div className=\"main\">\r\n            <div className=\"book-container\" style={{padding: 0}}>\r\n                <div className=\"book-area\">\r\n                    <ul style={{display:\"inline-flex\"}}>\r\n                        {this.props.bookData.length == 0 ? \"\" : this.props.bookData.map((index, i)=> {\r\n                            return (<li key={i}>{1 + i}号场</li>)\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n                <div className=\"book-time\">\r\n                    <ul>\r\n                        <li style={{marginTop: \"20px\"}}>08:30</li>\r\n                        <li>09:30</li>\r\n                        <li>10:30</li>\r\n                        <li>11:30</li>\r\n                        <li>12:30</li>\r\n                        <li>13:30</li>\r\n                        <li>14:30</li>\r\n                        <li>15:30</li>\r\n                        <li>16:30</li>\r\n                        <li>17:30</li>\r\n                        <li>18:30</li>\r\n                        <li>19:30</li>\r\n                        <li>20:30</li>\r\n                        <li>21:30</li>\r\n                        <li>22:00</li>\r\n                    </ul>\r\n                </div>\r\n                <div id=\"wrapper\">\r\n                    <div className=\"book-list\" style={{display: \"inline-flex\", whiteSpace: \"nowrap\",position:\"absolute\"}}>\r\n                        {!Array.isArray(this.props.bookData) && this.props.bookData.length > 0 ? (\r\n                            <h1 style={{color: \"#ff4455\"}}>{this.props.bookData}</h1>) :\r\n                            (this.props.bookData.map((index, i)=> {\r\n                                return (\r\n                                    <ul key={i}>\r\n                                        {index.map((v, k)=> {\r\n                                            return (\r\n                                                <li\r\n                                                    ref={i + \",\" + k + \"|\" + v.name + \"|\" + v.beginTime.slice(0, 8)}\r\n                                                    onClick={this.select.bind(this, i + \",\" + k + \"|\" + v.name + \"|\" + v.beginTime.slice(0, 8))}\r\n                                                    data-goodsid={index.length * i + k}\r\n                                                    data-price={v.price}\r\n                                                    data-content={v.beginTimeText + \",\" + v.endTimeText + \",\" + v.name}\r\n                                                    data-course_content={v.name + \",\" + v.beginTimeText + \",\" + v.endTimeText + \",\" + v.beginTimeText + \"-\" + v.endTimeText}\r\n                                                    data-group_ids={v.resourceId[0] + \",\" + v.resourceId[1]}\r\n                                                    key={k}\r\n                                                    data-clmcontent={v.name + \"地\" + v.beginTimeText + \"-\" + v.endTimeText + \"￥\" + v.price}\r\n                                                    className={v.className}>\r\n                                                    ￥<em>{v.price}</em>\r\n                                                </li>\r\n                                            )\r\n                                        })}\r\n                                    </ul>\r\n                                )\r\n                            }))}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>)\r\n    }\r\n}\r\nexport default BookContainer;"]}